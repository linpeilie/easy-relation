import{_ as s,X as n,Y as a,a1 as l}from"./framework-6ad2459b.js";const o={},e=l(`<blockquote><p>since v1.1.1</p></blockquote><p>当想要对一个方法的结果自动关联相关数据时，可以在方法上面增加 <code>@AutoRelation</code> 注解， 框架会对其方法返回的结果数据，自动关联配置的其他数据。</p><p>基于 SpringAOP 实现。</p><p>例如，在查询商品时，需要关联配置的其他店铺等信息：</p><ul><li>之前</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">public</span><span style="color:#E06C75;"> </span><span style="color:#E5C07B;">List</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">Goods</span><span style="color:#56B6C2;">&gt;</span><span style="color:#E06C75;"> </span><span style="color:#61AFEF;">list</span><span style="color:#E06C75;">(</span><span style="color:#E5C07B;">GoodsQuery</span><span style="color:#E06C75;"> goodsQuery) {</span></span>
<span class="line"><span style="color:#E06C75;">    </span><span style="color:#E5C07B;">List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">Goods</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#E06C75;"> list </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> </span><span style="color:#E5C07B;">goodsRepository</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">list</span><span style="color:#ABB2BF;">(goodsQuery);</span></span>
<span class="line"><span style="color:#E06C75;">    </span><span style="color:#E5C07B;">injectRelation</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">injectRelation</span><span style="color:#ABB2BF;">(list);</span></span>
<span class="line"><span style="color:#E06C75;">    </span><span style="color:#C678DD;">return</span><span style="color:#E06C75;"> list</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用自动关联数据注解</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">@</span><span style="color:#E5C07B;">AutoRelation</span></span>
<span class="line"><span style="color:#C678DD;">public</span><span style="color:#E06C75;"> </span><span style="color:#E5C07B;">List</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">Goods</span><span style="color:#56B6C2;">&gt;</span><span style="color:#E06C75;"> </span><span style="color:#61AFEF;">list</span><span style="color:#E06C75;">(</span><span style="color:#E5C07B;">GoodsQuery</span><span style="color:#E06C75;"> goodsQuery) {</span></span>
<span class="line"><span style="color:#E06C75;">    </span><span style="color:#C678DD;">return</span><span style="color:#E06C75;"> </span><span style="color:#E5C07B;">goodsRepository</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">list</span><span style="color:#ABB2BF;">(goodsQuery);</span></span>
<span class="line"><span style="color:#E06C75;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),p=[e];function t(c,r){return n(),a("div",null,p)}const d=s(o,[["render",t],["__file","auto-relation.html.vue"]]);export{d as default};
